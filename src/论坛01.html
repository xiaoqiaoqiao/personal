<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>无标题文档</title>
<style>
body{
	margin:0px;
	padding:0px;
    background:#CFF;
  }
  #box{
	  width:500px;
	  /*border:1px solid #CCC;*/
	  margin-top:50px;
	  margin-left:500px;
	  }
	  #txt{
		  margin-top:10px;
		  margin-left:500px;
		  }
		  #box .person{
				  width:129px;
				  height:100px;
				  background:#CC6;
				  border-right:1px solid #ccc;
				  border-bottom:1px solid #ccc;
				  margin-top:10px;
				  float:left;
			  }
		  #box .discuss{
				  width:370px;
				  height:100px;
				  background:#C3F;
				  border-bottom:1px solid #ccc;
				  margin-top:10px;
				  float:left;
			   }
	#delete{
		position:relative;
		left:940px;
		top:50px;
		}
			 
</style>
<script>
window.onload=function()
{
   var oBox=document.getElementById('box');
   var oTxt=document.getElementById('txt');
   var aBtn=document.getElementsByTagName('input');
   var oDelete=document.getElementById('delete');
   var aPerson=document.getElementsByClassName("person");
   var aDiscuss=document.getElementsByClassName('discuss');
   
  	aBtn[1].onclick=function()
	{
		//创建新元素div用于加载用户信息，和用户发表的内容。
		var oDiv=document.createElement('div');
		var oDiv1=document.createElement('div');
		//创建新的文本节点，获取用户信息，用户写在文本域内将要发表的内容
		var otxt=document.createTextNode(oTxt.value);
		var otxt1=document.createTextNode(oTxt.value);
		//给新创建的div设置样式
		oDiv.setAttribute('class','person');
		oDiv1.setAttribute('class','discuss');
		//给新创建的div获取文本的值
		oDiv.appendChild(otxt);
		oDiv1.appendChild(otxt1);
		//在之前发表的内容前插入新的发表的内容
		oBox.insertBefore(oDiv1,aPerson[0]);
		oBox.insertBefore(oDiv,aDiscuss[0]);
		
    };
	
	//将初始设置的类person，discuss删除
	oBox.removeChild(aPerson[0]);
	oBox.removeChild(aDiscuss[0]);
	
	oDelete.onclick=function()
	{
		if((aPerson.length>0)&&(aDiscuss.length>0))
		{
			//删除最新发表的内容
			oBox.removeChild(aPerson[0]);
			oBox.removeChild(aDiscuss[0]);	
		}
		
	};
};
</script>
</head>

<body>
 <!--删除最近发表的内容及其用户信息-->
    <input type="button" value="删除" id="delete" />
   <div id="box">
    <!--person用户信息，discuss用户发表内容-->
        <div class="person"></div>
        <div class="discuss"></div>
        
   </div>
    
    <textarea id="txt" rows="5" cols="50"></textarea>
    <input type="button" value="发表" />
</body>
</html>
